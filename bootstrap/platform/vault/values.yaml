server:
  affinity: ""
  extraVolumes:
    - type: secret
      name: vault-gcp-kms-creds
      path: /vault/userconfig
  dataStorage:
    enabled: true
    size: 2Gi

  ha:
    enabled: true
    raft:
      enabled: true
      setNodeId: true
      config: |-
        ui = true
        cluster_name = "vault-integrated-storage"
        listener "tcp" {
          tls_disable = 1
          address = "[::]:8200"
          cluster_address = "[::]:8201"
        }
        storage "raft" {
          path = "/vault/data"
        }
        seal "gcpckms" {
          project     = "terraform-project-480611"
          region      = "global"
          key_ring    = "vault-key-ring"
          crypto_key  = "vault-crypto-key"
          credentials = "/vault/userconfig/vault-gcp-kms-creds/sa.json"
        }
        telemetry {
          prometheus_retention_time = "30s"
          disable_hostname = true
        }
        service_registration "kubernetes" {}
ui:
  enabled: true
  externalPort: 8200
  targetPort: 8200
  serviceNodePort: null
  serviceType: ClusterIP
